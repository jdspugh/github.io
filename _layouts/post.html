---
layout: default
---
<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">{{ page.title | escape }}</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">
        {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
        {{ page.date | date: date_format }}
      </time>
      {%- if page.author -%}
        • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">{{ page.author }}</span></span>
      {%- endif -%}</p>
  </header>

  <!-- jdspugh start -->
  <div id="toc-container">
    <h2>Table of Contents</h2>
    <div id="toc"></div>
  </div>

  <style>
  #toc-container {
    width: 100%;
    background-color: #f9f9f9;
    box-shadow: 0 0 7px 0px #bbb;
    padding: 8px 20px 12px;
    overflow-y: auto;
    max-height: 80vh;
    z-index: 1000;
    box-sizing: border-box;
  }

  #toc-container h2 {
    margin-top: 0;
    margin-bottom: 10px;
  }

  #toc ul:first-child {
    margin-left: 0;
  }

  #toc ul {
    margin-left: 1em;
    margin-bottom: 0;
  }

  #toc li {
    outline: none;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  #toc {
    counter-reset: ta;
  }
  #toc>ul:before {
    content: counter(ta)" ";
  }
  #toc>ul {
    counter-increment: ta;
    counter-reset: tb;
  }
  #toc>ul>ul:before {
    content: counter(ta)"."counter(tb)" ";
  }
  #toc>ul>ul {
    counter-increment: tb;
    counter-reset: tc;
  }
  #toc>ul>ul>ul:before {
    content: counter(ta)"."counter(tb)"."counter(tc)" ";
  }
  #toc>ul>ul>ul {
    counter-increment: tc;
  }

  /* Desktop styles */
  @media screen and (min-width: 800px) {
    #toc-container {
      position: fixed;
      top: 20px;
      right: 20px;
      width: 300px;
    }
  }
  </style>

  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const elPostContent = document.querySelector('.post-content')
    const elsHeadings = elPostContent.querySelectorAll('h1,h2,h3,h4,h5,h6')

    let tocHtml = ''
    let lo = 0// old level
    elsHeadings.forEach(e => {
      const ln = parseInt(e.tagName.charAt(1))// new level

      if (ln > lo) {
        tocHtml += new Array(ln - lo + 1).join('<ul>')
      } else if (ln < lo) {
        tocHtml += new Array(lo - ln + 1).join('</ul>')
      }

      lo = ln
      const anchor = document.createElement('a')
      anchor.setAttribute('name', e.textContent)
      e.parentNode.insertBefore(anchor, e)
      tocHtml += `<li><a href="#${encodeURIComponent(e.textContent)}">${e.textContent}</a></li>`
    })
    tocHtml += new Array(lo + 1).join('</ul>')

    document.querySelector('#toc').innerHTML += tocHtml
  })
  </script>
  <!-- jdspugh end -->

  <div class="post-content e-content" itemprop="articleBody">
    {{ content }}
  </div>

  {%- if site.disqus.shortname -%}
    {%- include disqus_comments.html -%}
  {%- endif -%}

  <a class="u-url" href="{{ page.url | relative_url }}" hidden></a>
</article>